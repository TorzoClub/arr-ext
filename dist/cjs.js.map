{"version":3,"file":"cjs.js","sources":["../src/main.js"],"sourcesContent":["const deprecate = require('depd')('arr-ext')\n\nfunction ObjectValueCompare(source, target) {\n  return Object.keys(source).every(key => {\n    return target.hasOwnProperty(key) && source[key] === target[key]\n  })\n}\n\nconst array_extend = {\n  insert() {\n    deprecate('`insert` will be deprecate')\n    return this.insertBefore(...arguments)\n  },\n\n  insertBefore(insert_point, item) {\n    const right = this.splice(insert_point, this.length)\n    if (Array.isArray(item)) {\n      this.push(...item)\n    } else {\n      this.push(item)\n    }\n    this.push(...right)\n\n    return this\n  },\n\n  isLast(item) {\n    const last_item = this.lastItem()\n\n    return last_item && (last_item === item)\n  },\n\n  isLastBy(prop, val) {\n    return this.isLastByMatch({ [prop]: val })\n  },\n\n  isLastByIndex(index) {\n    return index === (this.length - 1)\n  },\n\n  isLastByMatch(match_obj) {\n    return this.isLastByIndex(\n      this.indexByMatch(match_obj)\n    )\n  },\n\n  isFirst(item) {\n    return item === this[0]\n  },\n\n  isFirstBy(prop, val) {\n    return this.isFirstByMatch({ [prop]: val })\n  },\n\n  isFirstByIndex(index) {\n    return this.length && !index\n  },\n\n  isFirstByMatch(match_obj) {\n    return this.isFirstByIndex(\n      this.indexByMatch(match_obj)\n    )\n  },\n\n  lastItem() {\n    return this[this.length - 1]\n  },\n\n  removeBy(prop, val) {\n    let offset = this.indexBy(prop, val)\n    if (offset !== -1) {\n      return this.removeByIndex(offset)\n    }\n  },\n\n  removeByMatch(match_obj) {\n    return this.removeByIndex(\n      this.indexByMatch(match_obj)\n    )\n  },\n\n  removeByIndex(index) {\n    if (index >= 0) {\n      return this.splice(index, 1)[0]\n    } else {\n      return undefined\n    }\n  },\n\n  assignByMatch(match_obj, ...args) {\n    return this.assignByIndex(\n      this.indexByMatch(match_obj),\n      ...args\n    )\n  },\n\n  assignByIndex(index, ...args) {\n    return Object.assign(this[index], ...args)\n  },\n\n  findBy(prop, val) {\n    return this.findByMatch({ [prop]: val })\n  },\n\n  findByMatch(match_obj) {\n    return this[this.indexByMatch(match_obj)]\n  },\n\n  indexBy(prop, val) {\n    return this.indexByMatch({ [prop]: val })\n  },\n\n  indexByMatch(match_obj) {\n    for (let c = 0; c < this.length; c++) {\n      if (ObjectValueCompare(match_obj, this[c])) {\n        return c\n      }\n    }\n    return -1\n  },\n\n  reset() {\n    this.splice(0, this.length)\n    return this\n  },\n\n  reload(reload_array) {\n    this.reset()\n\n    if (Array.isArray(reload_array) && reload_array.length) {\n      this.push.apply(this, reload_array)\n    }\n\n    return this\n  },\n}\n\nObject.keys(array_extend).forEach(key => {\n  const method = array_extend[key]\n\n  if (Array.prototype[key]) {\n    throw new Error(`数组原型链中已存在 ${key}`)\n  } else if (typeof(method) === 'function') {\n    Object.defineProperty(Array.prototype, key, { value: method })\n  }\n})\n"],"names":["deprecate","require","ObjectValueCompare","source","target","Object","keys","every","key","hasOwnProperty","array_extend","insert","insertBefore","arguments","insert_point","item","right","splice","length","Array","isArray","push","isLast","last_item","lastItem","isLastBy","prop","val","isLastByMatch","isLastByIndex","index","match_obj","indexByMatch","isFirst","isFirstBy","isFirstByMatch","isFirstByIndex","removeBy","offset","indexBy","removeByIndex","removeByMatch","undefined","assignByMatch","args","assignByIndex","assign","findBy","findByMatch","c","reset","reload","reload_array","apply","forEach","method","prototype","Error","defineProperty","value"],"mappings":"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"}